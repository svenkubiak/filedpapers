services:
  filedpapers-web:
    container_name: filedpapers-web
    image: ghcr.io/svenkubiak/filedpapers/filedpapers:1.0.0-alpha3
    ports:
      - "127.0.0.1:9090:9090"
    volumes:
      - ./config:/app/config
    environment:
      - JAVA_OPTS=-Dapplication.config=/app/config/config.yaml -Xms256m -Xmx1024m
    depends_on:
      - filedpapers-database
    networks:
      - filedpapers-network

  filedpapers-database:
    image: mongodb/mongodb-community-server:8.0.4
    container_name: filedpapers-database
    environment:
      - MONGO_INITDB_ROOT_USERNAME=${MONGO_INITDB_ROOT_USERNAME}
      - MONGO_INITDB_ROOT_PASSWORD=${MONGO_INITDB_ROOT_PASSWORD}
      - MONGO_INITDB_DATABASE=${MONGO_INITDB_DATABASE}
    volumes:
      - mongodb_data:/data/db
    networks:
      - filedpapers-network

networks:
  filedpapers-network:
    driver: bridge

volumes:
  mongodb_data: